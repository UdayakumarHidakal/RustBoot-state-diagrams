<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1054px" preserveAspectRatio="none" style="width:1789px;height:1054px;background:#FFFFFF;" version="1.1" viewBox="0 0 1789 1054" width="1789px" zoomAndPan="magnify"><defs/><g><rect height="56.5625" id="_title" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="542" x="622.0625" y="15"/><text fill="#000000" font-family="sans-serif" font-size="40" font-weight="bold" lengthAdjust="spacing" textLength="532" x="627.0625" y="57.1289">rustBoot state diagram</text><rect fill="#DDDDDD" height="97.4844" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="182" x="1586.125" y="85.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1592.125" y="106.5576"> </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="45" x="1596.125" y="106.5576">Value</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1641.125" y="106.5576"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1645.125" y="106.5576"> </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54" x="1649.125" y="106.5576">States</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1703.125" y="106.5576"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1596.125" y="122.8545">0xFF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1649.125" y="122.8545">New State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="139.1514">0x70</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1649.125" y="139.1514">Updating State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="155.4482">0x10</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1649.125" y="155.4482">Testing State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="171.7451">0x00</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1649.125" y="171.7451">Success State</text><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="93.5625" y2="93.5625"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="109.8594" y2="109.8594"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="126.1563" y2="126.1563"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="142.4531" y2="142.4531"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="158.75" y2="158.75"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="175.0469" y2="175.0469"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1592.125" y1="93.5625" y2="175.0469"/><line style="stroke:#000000;stroke-width:1.0;" x1="1645.125" x2="1645.125" y1="93.5625" y2="175.0469"/><line style="stroke:#000000;stroke-width:1.0;" x1="1762.125" x2="1762.125" y1="93.5625" y2="175.0469"/><path d="M577.9375,192.0469 L577.9375,200.6133 L557.9375,204.6133 L577.9375,208.6133 L577.9375,217.1797 A0,0 0 0 0 577.9375,217.1797 L751.9375,217.1797 A0,0 0 0 0 751.9375,217.1797 L751.9375,202.0469 L741.9375,192.0469 L577.9375,192.0469 A0,0 0 0 0 577.9375,192.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M741.9375,192.0469 L741.9375,202.0469 L751.9375,202.0469 L741.9375,192.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="583.9375" y="209.1138">Power ON / Board Reset</text><ellipse cx="547.9375" cy="204.6133" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="496.4375" y="237.1797"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="506.4375" y="258.3184">rustBoot Start</text><rect fill="#F1F1F1" height="75.875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="480.4375" y="291.1484"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="115" x="490.4375" y="312.2871">Open Partitions</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="490.4375" y="326.2559"> </text><ellipse cx="495.9375" cy="335.5547" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="502.4375" y="340.2246">Boot</text><ellipse cx="495.9375" cy="349.5234" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="502.4375" y="354.1934">Update</text><polygon fill="#FFA500" points="448.9375,387.0234,646.9375,387.0234,658.9375,419.0352,646.9375,451.0469,448.9375,451.0469,436.9375,419.0352,448.9375,387.0234" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="397.2339"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="448.9375" y="410.0386">                  </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="520.9375" y="410.0386">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="559.9375" y="410.0386"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="422.8433"> </text><ellipse cx="454.4375" cy="430.7422" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="459.9375" y="435.6479">Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="516.9375" y="435.6479">Testing</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="571.9375" y="435.6479">state (0x10)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="448.4526"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="405.9375" y="416.4409">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="658.9375" y="416.4409">False</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="11" y="461.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="21" y="482.1855">               </text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="111" x="81" y="482.1855">Trigger Update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="21" y="496.1543"> </text><ellipse cx="26.5" cy="505.4531" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="211" x="33" y="510.123">Swapped firmware was not able to</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="37" y="524.0918">set the</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58" x="83" y="524.0918">success</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="145" y="524.0918">state (0x00)</text><ellipse cx="26.5" cy="533.3906" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="33" y="538.0605">set Image state to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65" x="147" y="538.0605">Updating</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="216" y="538.0605">state</text><rect fill="#DDA0DD" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="202" x="32.5" y="585.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182" x="42.5" y="607.0293">Roll back to the Boot firmware</text><polygon fill="#FFA500" points="881.5,461.0469,1103.5,461.0469,1115.5,493.0586,1103.5,525.0703,881.5,525.0703,869.5,493.0586,881.5,461.0469" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="881.5" y="471.2573"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="881.5" y="484.062">                    </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="961.5" y="484.062">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1000.5" y="484.062"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8" x="881.5" y="496.8667">  </text><ellipse cx="887" cy="504.7656" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="892.5" y="509.6714">Is Update in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60" x="964.5" y="509.6714">Updating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="1028.5" y="509.6714">state (0x70)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="881.5" y="522.4761"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="838.5" y="490.4644">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1115.5" y="490.4644">False</text><rect fill="#F1F1F1" height="103.8125" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="598" y="535.0703"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137" x="608" y="556.209">Begin rustBoot Update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105" x="608" y="570.1777">Open 3 partitions</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="608" y="584.1465"> </text><ellipse cx="613.5" cy="593.4453" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="620" y="598.1152">Boot</text><ellipse cx="613.5" cy="607.4141" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="620" y="612.084">Update</text><ellipse cx="613.5" cy="621.3828" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="620" y="626.0527">Swap</text><polygon fill="#FFA500" points="574,672.4531,779,672.4531,791,698.0625,779,723.6719,574,723.6719,562,698.0625,574,672.4531" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="574" y="682.6636"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="582" y="695.4683">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="620" y="695.4683">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="671" y="695.4683">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="696" y="695.4683">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="768" y="695.4683">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="578" y="708.2729">Image in Update partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="574" y="721.0776"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="531" y="695.4683">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="791" y="695.4683">False</text><polygon fill="#FFA500" points="439,733.6719,665,733.6719,677,778.4883,665,823.3047,439,823.3047,427,778.4883,439,733.6719" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="439" y="743.8823"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="439" y="756.687">                </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="503" y="756.687">Prevent rollback</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="613" y="756.687"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="439" y="769.4917">                     </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="523" y="769.4917">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="562" y="769.4917"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="439" y="782.2964">      </text><ellipse cx="444.5" cy="790.1953" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="450" y="795.1011">Is Update image version greater than</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="443" y="807.9058">Boot image version?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="439" y="820.7104"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="396" y="775.894">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="677" y="775.894">False</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="302" x="266" y="833.3047"/><ellipse cx="281.5" cy="849.7734" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="270" x="288" y="854.4434">Swap the Update partition with Boot partition</text><ellipse cx="281.5" cy="863.7422" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="172" x="288" y="868.4121">Set the update image flag to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="56" x="464" y="868.4121">Testing</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="524" y="868.4121">state</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="285" x="274.5" y="911.7188"/><ellipse cx="290" cy="928.1875" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="296.5" y="932.8574">Jump to the updated firmware</text><ellipse cx="290" cy="942.1563" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="296.5" y="946.8262">validate the firmware functionality</text><ellipse cx="290" cy="956.125" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199" x="296.5" y="960.7949">Update image state flags erased</text><ellipse cx="290" cy="970.0938" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="296.5" y="974.7637">set the boot image flag to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58" x="457.5" y="974.7637">success</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="519.5" y="974.7637">state</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="300.5" y="988.7324">(0x00)</text><ellipse cx="417" cy="1032.5625" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="417" cy="1032.5625" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="659.5" y="833.3047"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="669.5" y="854.4434">Panic!</text><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="773.5" y="733.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="783.5" y="754.8105">Panic!</text><polygon fill="#FFA500" points="1217.375,535.0703,1419.375,535.0703,1431.375,573.4844,1419.375,611.8984,1217.375,611.8984,1205.375,573.4844,1217.375,535.0703" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="545.2808"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="1217.375" y="558.0854">                 </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1285.375" y="558.0854">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="570.8901"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="1221.375" y="583.6948">* Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="27" x="1288.375" y="583.6948">New</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="1319.375" y="583.6948">state (0xFF)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="1221.375" y="596.4995">* Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52" x="1288.375" y="596.4995">Success</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="1344.375" y="596.4995">state (0x00)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="609.3042"> </text><polygon fill="#FFA500" points="1042.625,671.6875,1247.625,671.6875,1259.625,697.2969,1247.625,722.9063,1042.625,722.9063,1030.625,697.2969,1042.625,671.6875" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1042.625" y="681.8979"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="1046.625" y="694.7026">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="1084.625" y="694.7026">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="1135.625" y="694.7026">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="1160.625" y="694.7026">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1232.625" y="694.7026">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="1046.625" y="707.5073">Boot Image in Boot partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1042.625" y="720.312"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="999.625" y="694.7026">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1259.625" y="694.7026">False</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="882.125" y="732.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="257" x="892.125" y="754.0449">Jump to the Boot firmware in boot partition</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="324" x="858.625" y="801.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="868.625" y="823.0137">                       </text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="111" x="960.625" y="823.0137">Trigger update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="8" x="868.625" y="836.9824">  </text><ellipse cx="874.125" cy="846.2813" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206" x="880.625" y="850.9512">Checks for the update, if available</text><ellipse cx="874.125" cy="860.25" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="189" x="880.625" y="864.9199">Sets the Update image state to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65" x="1073.625" y="864.9199">Updating</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="1142.625" y="864.9199">state</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="980.625" y="878.8887">(0x70)</text><path d="M1051.625,922.1953 L1051.625,930.7617 L1031.625,934.7617 L1051.625,938.7617 L1051.625,947.3281 A0,0 0 0 0 1051.625,947.3281 L1150.625,947.3281 A0,0 0 0 0 1150.625,947.3281 L1150.625,932.1953 L1140.625,922.1953 L1051.625,922.1953 A0,0 0 0 0 1051.625,922.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1140.625,922.1953 L1140.625,932.1953 L1150.625,932.1953 L1140.625,922.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1057.625" y="939.2622">Board Reset</text><ellipse cx="1020.625" cy="934.7617" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="1020.625" cy="934.7617" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1242.125" y="732.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="1252.125" y="754.0449">Panic!</text><polygon fill="#FFA500" points="1523.625,658.8828,1728.625,658.8828,1740.625,684.4922,1728.625,710.1016,1523.625,710.1016,1511.625,684.4922,1523.625,658.8828" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1523.625" y="669.0933"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="1527.625" y="681.8979">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="1565.625" y="681.8979">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="1616.625" y="681.8979">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="1641.625" y="681.8979">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1713.625" y="681.8979">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="1527.625" y="694.7026">Update Image in Boot partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1523.625" y="707.5073"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="1480.625" y="681.8979">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1740.625" y="681.8979">False</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="329" x="1337.125" y="720.1016"/><ellipse cx="1352.625" cy="736.5703" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="1359.125" y="741.2402">Jump to firmware in Boot partition</text><ellipse cx="1352.625" cy="750.5391" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="297" x="1359.125" y="755.209">This may be recently swapped/updated firmware</text><ellipse cx="1501.625" cy="814.0391" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="1501.625" cy="814.0391" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1723.125" y="720.1016"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="1733.125" y="741.2402">Panic!</text><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="214.6133" y2="237.1797"/><polygon fill="#181818" points="543.9375,227.1797,547.9375,237.1797,551.9375,227.1797,547.9375,231.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="271.1484" y2="291.1484"/><polygon fill="#181818" points="543.9375,281.1484,547.9375,291.1484,551.9375,281.1484,547.9375,285.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.5" x2="133.5" y1="550.8906" y2="585.8906"/><polygon fill="#181818" points="129.5,575.8906,133.5,585.8906,137.5,575.8906,133.5,579.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="881.2422" y2="911.7188"/><polygon fill="#181818" points="413,901.7188,417,911.7188,421,901.7188,417,905.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="1001.5625" y2="1021.5625"/><polygon fill="#181818" points="413,1011.5625,417,1021.5625,421,1011.5625,417,1015.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="427" x2="417" y1="778.4883" y2="778.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="778.4883" y2="833.3047"/><polygon fill="#181818" points="413,823.3047,417,833.3047,421,823.3047,417,827.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="677" x2="687" y1="778.4883" y2="778.4883"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="778.4883" y2="833.3047"/><polygon fill="#181818" points="683,823.3047,687,833.3047,691,823.3047,687,827.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="562" x2="552" y1="698.0625" y2="698.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="552" x2="552" y1="698.0625" y2="733.6719"/><polygon fill="#181818" points="548,723.6719,552,733.6719,556,723.6719,552,727.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="791" x2="801" y1="698.0625" y2="698.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="801" x2="801" y1="698.0625" y2="733.6719"/><polygon fill="#181818" points="797,723.6719,801,733.6719,805,723.6719,801,727.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.5" x2="676.5" y1="638.8828" y2="672.4531"/><polygon fill="#181818" points="672.5,662.4531,676.5,672.4531,680.5,662.4531,676.5,666.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="766.875" y2="801.875"/><polygon fill="#181818" points="1016.625,791.875,1020.625,801.875,1024.625,791.875,1020.625,795.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="891.7188" y2="923.7617"/><polygon fill="#181818" points="1016.625,913.7617,1020.625,923.7617,1024.625,913.7617,1020.625,917.7617" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1030.625" x2="1020.625" y1="697.2969" y2="697.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="697.2969" y2="732.9063"/><polygon fill="#181818" points="1016.625,722.9063,1020.625,732.9063,1024.625,722.9063,1020.625,726.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1259.625" x2="1269.625" y1="697.2969" y2="697.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1269.625" x2="1269.625" y1="697.2969" y2="732.9063"/><polygon fill="#181818" points="1265.625,722.9063,1269.625,732.9063,1273.625,722.9063,1269.625,726.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1501.625" x2="1501.625" y1="768.0391" y2="803.0391"/><polygon fill="#181818" points="1497.625,793.0391,1501.625,803.0391,1505.625,793.0391,1501.625,797.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1511.625" x2="1501.625" y1="684.4922" y2="684.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="1501.625" x2="1501.625" y1="684.4922" y2="720.1016"/><polygon fill="#181818" points="1497.625,710.1016,1501.625,720.1016,1505.625,710.1016,1501.625,714.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1740.625" x2="1750.625" y1="684.4922" y2="684.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="1750.625" x2="1750.625" y1="684.4922" y2="720.1016"/><polygon fill="#181818" points="1746.625,710.1016,1750.625,720.1016,1754.625,710.1016,1750.625,714.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1205.375" x2="1145.125" y1="573.4844" y2="573.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="1145.125" x2="1145.125" y1="573.4844" y2="671.6875"/><polygon fill="#181818" points="1141.125,661.6875,1145.125,671.6875,1149.125,661.6875,1145.125,665.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1145.125" y="620.7065"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1145.125" y="633.5112">* Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="27" x="1199.125" y="633.5112">New</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1230.125" y="633.5112">state</text><line style="stroke:#181818;stroke-width:1.0;" x1="1431.375" x2="1626.125" y1="573.4844" y2="573.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="1626.125" x2="1626.125" y1="573.4844" y2="658.8828"/><polygon fill="#181818" points="1622.125,648.8828,1626.125,658.8828,1630.125,648.8828,1626.125,652.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1626.125" y="620.7065">* Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52" x="1680.125" y="620.7065">Success</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1736.125" y="620.7065">state</text><line style="stroke:#181818;stroke-width:1.0;" x1="869.5" x2="676.5" y1="493.0586" y2="493.0586"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.5" x2="676.5" y1="493.0586" y2="535.0703"/><polygon fill="#181818" points="672.5,525.0703,676.5,535.0703,680.5,525.0703,676.5,529.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1115.5" x2="1318.375" y1="493.0586" y2="493.0586"/><line style="stroke:#181818;stroke-width:1.0;" x1="1318.375" x2="1318.375" y1="493.0586" y2="535.0703"/><polygon fill="#181818" points="1314.375,525.0703,1318.375,535.0703,1322.375,525.0703,1318.375,529.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="436.9375" x2="133.5" y1="419.0352" y2="419.0352"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.5" x2="133.5" y1="419.0352" y2="461.0469"/><polygon fill="#181818" points="129.5,451.0469,133.5,461.0469,137.5,451.0469,133.5,455.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="658.9375" x2="992.5" y1="419.0352" y2="419.0352"/><line style="stroke:#181818;stroke-width:1.0;" x1="992.5" x2="992.5" y1="419.0352" y2="461.0469"/><polygon fill="#181818" points="988.5,451.0469,992.5,461.0469,996.5,451.0469,992.5,455.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="367.0234" y2="387.0234"/><polygon fill="#181818" points="543.9375,377.0234,547.9375,387.0234,551.9375,377.0234,547.9375,381.0234" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[009633b51abe64fd139c6fa6182082a8]
@startuml
skinparam titlefontsize 40
title rustBoot state diagram

start
note right: Power ON / Board Reset

  :rustBoot Start; 

  :**Open Partitions** 
  
  * Boot 
  * Update ;

#orange:if (
                  **Check** 

* Is Boot in **Testing** state (0x10)?\n) then (<color:green>**True**)


  :               **Trigger Update**
  
  * Swapped firmware was not able to 
      set the **success** state (0x00)
  * set Image state to **Updating** state;
  #plum:Roll back to the Boot firmware;
  kill
else (<color:red>**False**)
  #orange:if (
                    **Check** 
  
* Is Update in **Updating** state (0x70)?\n) then (<color:green>**True**);
    :Begin rustBoot Update
    Open 3 partitions
    
    * Boot
    * Update
    * Swap;
    #orange:if (
  Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of\n Image in Update partition \n) then (<color:green>**True**)
    
      #orange:if (\n                **Prevent rollback** \n                     **Check** 
      
* Is Update image version greater than \n Boot image version? \n) then (<color:green>**True**)
        :* Swap the Update partition with Boot partition
        * Set the update image flag to **Testing** state;
        :* Jump to the updated firmware 
        * validate the firmware functionality
        * Update image state flags erased
        * set the boot image flag to **success** state 
            (0x00);
        stop
      else(<color:red>**False**) 
        #tomato:Panic!;
        kill
      endif
    else(<color:red>**False**)
      #tomato:Panic!;
      kill
    endif
  else (<color:red>**False**)
  <style>
diamond  {
  BackgroundColor orange
}
</style>
    switch(\n                 **Check**\n \n * Is Boot in **New** state (0xFF)?\n * Is Boot in **Success** state (0x00)?\n)
    case (\n* Boot in **New** state)
      #orange:if (\n Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of \n Boot Image in Boot partition\n) then (<color:green>**True**)
        :Jump to the Boot firmware in boot partition;
          :                       **Trigger update** 
          
        * Checks for the update, if available   
        * Sets the Update image state to **Updating** state 
                                    (0x70);
        stop
         note right: Board Reset
        
      else (<color:red>**False**)
        #tomato:Panic!;
        kill
      endif
    case (* Boot in **Success** state)
      #orange:if (\n Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of \n Update Image in Boot partition\n) then (<color:green>**True**)
        :* Jump to firmware in Boot partition
* This may be recently swapped/updated firmware;
        stop
      else (<color:red>**False**)
        #tomato:Panic!;
        kill


legend top right
    | **Value** | **States** |
    | 0xFF  | New State |
    | 0x70  | Updating State |
    | 0x10  | Testing State |
    | 0x00  | Success State |
endlegend
@enduml

PlantUML version 1.2022.7beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>