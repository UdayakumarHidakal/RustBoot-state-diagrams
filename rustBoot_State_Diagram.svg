<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1022px" preserveAspectRatio="none" style="width:1789px;height:1022px;background:#E5E8E8;" version="1.1" viewBox="0 0 1789 1022" width="1789px" zoomAndPan="magnify"><defs/><g><rect fill="#E5E8E8" height="97.4844" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="182" x="1586.125" y="18"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1592.125" y="38.9951"> </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="45" x="1596.125" y="38.9951">Value</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1641.125" y="38.9951"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1645.125" y="38.9951"> </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54" x="1649.125" y="38.9951">States</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1703.125" y="38.9951"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1596.125" y="55.292">0xFF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1649.125" y="55.292">New State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="71.5889">0x70</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1649.125" y="71.5889">Updating State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="87.8857">0x10</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1649.125" y="87.8857">Testing State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="104.1826">0x00</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1649.125" y="104.1826">Success State</text><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="26" y2="26"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="42.2969" y2="42.2969"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="58.5938" y2="58.5938"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="74.8906" y2="74.8906"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="91.1875" y2="91.1875"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="107.4844" y2="107.4844"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1592.125" y1="26" y2="107.4844"/><line style="stroke:#000000;stroke-width:1.0;" x1="1645.125" x2="1645.125" y1="26" y2="107.4844"/><line style="stroke:#000000;stroke-width:1.0;" x1="1762.125" x2="1762.125" y1="26" y2="107.4844"/><path d="M577.9375,124.4844 L577.9375,133.0508 L557.9375,137.0508 L577.9375,141.0508 L577.9375,149.6172 A0,0 0 0 0 577.9375,149.6172 L751.9375,149.6172 A0,0 0 0 0 751.9375,149.6172 L751.9375,134.4844 L741.9375,124.4844 L577.9375,124.4844 A0,0 0 0 0 577.9375,124.4844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M741.9375,124.4844 L741.9375,134.4844 L751.9375,134.4844 L741.9375,124.4844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="583.9375" y="141.5513">Power ON / Board Reset</text><ellipse cx="547.9375" cy="137.0508" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="496.4375" y="169.6172"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="506.4375" y="190.7559">rustBoot Start</text><rect fill="#F1F1F1" height="75.875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="481.4375" y="223.5859"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="113" x="491.4375" y="244.7246">Read Partitions</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="491.4375" y="258.6934"> </text><ellipse cx="496.9375" cy="267.9922" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="503.4375" y="272.6621">Boot</text><ellipse cx="496.9375" cy="281.9609" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="503.4375" y="286.6309">Update</text><polygon fill="#FFA500" points="448.9375,319.4609,646.9375,319.4609,658.9375,351.4727,646.9375,383.4844,448.9375,383.4844,436.9375,351.4727,448.9375,319.4609" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="329.6714"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="448.9375" y="342.4761">                  </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="520.9375" y="342.4761">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="559.9375" y="342.4761"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="355.2808"> </text><ellipse cx="454.4375" cy="363.1797" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="459.9375" y="368.0854">Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="516.9375" y="368.0854">Testing</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="571.9375" y="368.0854">state (0x10)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="380.8901"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="405.9375" y="348.8784">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="658.9375" y="348.8784">False</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="11" y="393.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="21" y="414.623">               </text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="111" x="81" y="414.623">Trigger Update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="21" y="428.5918"> </text><ellipse cx="26.5" cy="437.8906" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="211" x="33" y="442.5605">Swapped firmware was not able to</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="37" y="456.5293">set the</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58" x="83" y="456.5293">success</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="145" y="456.5293">state (0x00)</text><ellipse cx="26.5" cy="465.8281" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="33" y="470.498">set Image state to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65" x="147" y="470.498">Updating</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="216" y="470.498">state</text><rect fill="#DDA0DD" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="202" x="32.5" y="518.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182" x="42.5" y="539.4668">Roll back to the Boot firmware</text><polygon fill="#FFA500" points="881.5,393.4844,1103.5,393.4844,1115.5,425.4961,1103.5,457.5078,881.5,457.5078,869.5,425.4961,881.5,393.4844" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="881.5" y="403.6948"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="881.5" y="416.4995">                    </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="961.5" y="416.4995">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1000.5" y="416.4995"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8" x="881.5" y="429.3042">  </text><ellipse cx="887" cy="437.2031" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="892.5" y="442.1089">Is Update in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60" x="964.5" y="442.1089">Updating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="1028.5" y="442.1089">state (0x70)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="881.5" y="454.9136"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="838.5" y="422.9019">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1115.5" y="422.9019">False</text><rect fill="#F1F1F1" height="103.8125" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="598" y="467.5078"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137" x="608" y="488.6465">Begin rustBoot Update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="608" y="502.6152">read 3 partitions</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="608" y="516.584"> </text><ellipse cx="613.5" cy="525.8828" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="620" y="530.5527">Boot</text><ellipse cx="613.5" cy="539.8516" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="620" y="544.5215">Update</text><ellipse cx="613.5" cy="553.8203" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="620" y="558.4902">Swap</text><polygon fill="#FFA500" points="574,604.8906,779,604.8906,791,630.5,779,656.1094,574,656.1094,562,630.5,574,604.8906" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="574" y="615.1011"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="582" y="627.9058">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="620" y="627.9058">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="671" y="627.9058">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="696" y="627.9058">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="768" y="627.9058">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="578" y="640.7104">Image in Update partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="574" y="653.5151"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="531" y="627.9058">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="791" y="627.9058">False</text><polygon fill="#FFA500" points="439,666.1094,665,666.1094,677,710.9258,665,755.7422,439,755.7422,427,710.9258,439,666.1094" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="439" y="676.3198"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="439" y="689.1245">                </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="503" y="689.1245">Prevent rollback</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="613" y="689.1245"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="439" y="701.9292">                     </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="523" y="701.9292">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="562" y="701.9292"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="439" y="714.7339">      </text><ellipse cx="444.5" cy="722.6328" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="450" y="727.5386">Is Update image version greater than</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="443" y="740.3433">Boot image version?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="439" y="753.1479"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="396" y="708.3315">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="677" y="708.3315">False</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="302" x="266" y="765.7422"/><ellipse cx="281.5" cy="782.2109" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="270" x="288" y="786.8809">Swap the Update partition with Boot partition</text><ellipse cx="281.5" cy="796.1797" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="172" x="288" y="800.8496">Set the update image flag to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="56" x="464" y="800.8496">Testing</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="524" y="800.8496">state</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="285" x="274.5" y="844.1563"/><ellipse cx="290" cy="860.625" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="296.5" y="865.2949">Jump to the updated firmware</text><ellipse cx="290" cy="874.5938" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="296.5" y="879.2637">validate the firmware functionality</text><ellipse cx="290" cy="888.5625" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199" x="296.5" y="893.2324">Update image state flags erased</text><ellipse cx="290" cy="902.5313" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="296.5" y="907.2012">set the boot image flag to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58" x="457.5" y="907.2012">success</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="519.5" y="907.2012">state</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="300.5" y="921.1699">(0x00)</text><ellipse cx="417" cy="965" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="417" cy="965" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="659.5" y="765.7422"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="669.5" y="786.8809">Panic!</text><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="773.5" y="666.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="783.5" y="687.248">Panic!</text><polygon fill="#FFA500" points="1217.375,467.5078,1419.375,467.5078,1431.375,505.9219,1419.375,544.3359,1217.375,544.3359,1205.375,505.9219,1217.375,467.5078" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="477.7183"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="1217.375" y="490.5229">                 </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1285.375" y="490.5229">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="503.3276"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="1221.375" y="516.1323">* Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="27" x="1288.375" y="516.1323">New</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="1319.375" y="516.1323">state (0xFF)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="1221.375" y="528.937">* Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52" x="1288.375" y="528.937">Success</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="1344.375" y="528.937">state (0x00)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="541.7417"> </text><polygon fill="#FFA500" points="1042.625,604.125,1247.625,604.125,1259.625,629.7344,1247.625,655.3438,1042.625,655.3438,1030.625,629.7344,1042.625,604.125" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1042.625" y="614.3354"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="1046.625" y="627.1401">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="1084.625" y="627.1401">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="1135.625" y="627.1401">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="1160.625" y="627.1401">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1232.625" y="627.1401">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="1046.625" y="639.9448">Boot Image in Boot partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1042.625" y="652.7495"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="999.625" y="627.1401">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1259.625" y="627.1401">False</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="882.125" y="665.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="257" x="892.125" y="686.4824">Jump to the Boot firmware in boot partition</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="324" x="858.625" y="734.3125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="868.625" y="755.4512">                       </text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="111" x="960.625" y="755.4512">Trigger update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="8" x="868.625" y="769.4199">  </text><ellipse cx="874.125" cy="778.7188" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206" x="880.625" y="783.3887">Checks for the update, if available</text><ellipse cx="874.125" cy="792.6875" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="189" x="880.625" y="797.3574">Sets the Update image state to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65" x="1073.625" y="797.3574">Updating</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="1142.625" y="797.3574">state</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="980.625" y="811.3262">(0x70)</text><path d="M1051.625,854.6328 L1051.625,863.1992 L1031.625,867.1992 L1051.625,871.1992 L1051.625,879.7656 A0,0 0 0 0 1051.625,879.7656 L1150.625,879.7656 A0,0 0 0 0 1150.625,879.7656 L1150.625,864.6328 L1140.625,854.6328 L1051.625,854.6328 A0,0 0 0 0 1051.625,854.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1140.625,854.6328 L1140.625,864.6328 L1150.625,864.6328 L1140.625,854.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1057.625" y="871.6997">Board Reset</text><ellipse cx="1020.625" cy="867.1992" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="1020.625" cy="867.1992" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1242.125" y="665.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="1252.125" y="686.4824">Panic!</text><polygon fill="#FFA500" points="1523.625,591.3203,1728.625,591.3203,1740.625,616.9297,1728.625,642.5391,1523.625,642.5391,1511.625,616.9297,1523.625,591.3203" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1523.625" y="601.5308"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="1527.625" y="614.3354">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="1565.625" y="614.3354">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="1616.625" y="614.3354">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="1641.625" y="614.3354">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1713.625" y="614.3354">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="1527.625" y="627.1401">Update Image in Boot partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1523.625" y="639.9448"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="1480.625" y="614.3354">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1740.625" y="614.3354">False</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="329" x="1337.125" y="652.5391"/><ellipse cx="1352.625" cy="669.0078" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="1359.125" y="673.6777">Jump to firmware in Boot partition</text><ellipse cx="1352.625" cy="682.9766" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="297" x="1359.125" y="687.6465">This may be recently swapped/updated firmware</text><ellipse cx="1501.625" cy="746.4766" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="1501.625" cy="746.4766" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1723.125" y="652.5391"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="1733.125" y="673.6777">Panic!</text><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="147.0508" y2="169.6172"/><polygon fill="#181818" points="543.9375,159.6172,547.9375,169.6172,551.9375,159.6172,547.9375,163.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="203.5859" y2="223.5859"/><polygon fill="#181818" points="543.9375,213.5859,547.9375,223.5859,551.9375,213.5859,547.9375,217.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.5" x2="133.5" y1="483.3281" y2="518.3281"/><polygon fill="#181818" points="129.5,508.3281,133.5,518.3281,137.5,508.3281,133.5,512.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="813.6797" y2="844.1563"/><polygon fill="#181818" points="413,834.1563,417,844.1563,421,834.1563,417,838.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="934" y2="954"/><polygon fill="#181818" points="413,944,417,954,421,944,417,948" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="427" x2="417" y1="710.9258" y2="710.9258"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="710.9258" y2="765.7422"/><polygon fill="#181818" points="413,755.7422,417,765.7422,421,755.7422,417,759.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="677" x2="687" y1="710.9258" y2="710.9258"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="710.9258" y2="765.7422"/><polygon fill="#181818" points="683,755.7422,687,765.7422,691,755.7422,687,759.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="562" x2="552" y1="630.5" y2="630.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="552" x2="552" y1="630.5" y2="666.1094"/><polygon fill="#181818" points="548,656.1094,552,666.1094,556,656.1094,552,660.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="791" x2="801" y1="630.5" y2="630.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="801" x2="801" y1="630.5" y2="666.1094"/><polygon fill="#181818" points="797,656.1094,801,666.1094,805,656.1094,801,660.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.5" x2="676.5" y1="571.3203" y2="604.8906"/><polygon fill="#181818" points="672.5,594.8906,676.5,604.8906,680.5,594.8906,676.5,598.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="699.3125" y2="734.3125"/><polygon fill="#181818" points="1016.625,724.3125,1020.625,734.3125,1024.625,724.3125,1020.625,728.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="824.1563" y2="856.1992"/><polygon fill="#181818" points="1016.625,846.1992,1020.625,856.1992,1024.625,846.1992,1020.625,850.1992" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1030.625" x2="1020.625" y1="629.7344" y2="629.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="629.7344" y2="665.3438"/><polygon fill="#181818" points="1016.625,655.3438,1020.625,665.3438,1024.625,655.3438,1020.625,659.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1259.625" x2="1269.625" y1="629.7344" y2="629.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1269.625" x2="1269.625" y1="629.7344" y2="665.3438"/><polygon fill="#181818" points="1265.625,655.3438,1269.625,665.3438,1273.625,655.3438,1269.625,659.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1501.625" x2="1501.625" y1="700.4766" y2="735.4766"/><polygon fill="#181818" points="1497.625,725.4766,1501.625,735.4766,1505.625,725.4766,1501.625,729.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1511.625" x2="1501.625" y1="616.9297" y2="616.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1501.625" x2="1501.625" y1="616.9297" y2="652.5391"/><polygon fill="#181818" points="1497.625,642.5391,1501.625,652.5391,1505.625,642.5391,1501.625,646.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1740.625" x2="1750.625" y1="616.9297" y2="616.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1750.625" x2="1750.625" y1="616.9297" y2="652.5391"/><polygon fill="#181818" points="1746.625,642.5391,1750.625,652.5391,1754.625,642.5391,1750.625,646.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1205.375" x2="1145.125" y1="505.9219" y2="505.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="1145.125" x2="1145.125" y1="505.9219" y2="604.125"/><polygon fill="#181818" points="1141.125,594.125,1145.125,604.125,1149.125,594.125,1145.125,598.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1145.125" y="553.144"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1145.125" y="565.9487">* Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="27" x="1199.125" y="565.9487">New</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1230.125" y="565.9487">state</text><line style="stroke:#181818;stroke-width:1.0;" x1="1431.375" x2="1626.125" y1="505.9219" y2="505.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="1626.125" x2="1626.125" y1="505.9219" y2="591.3203"/><polygon fill="#181818" points="1622.125,581.3203,1626.125,591.3203,1630.125,581.3203,1626.125,585.3203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1626.125" y="553.144">* Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52" x="1680.125" y="553.144">Success</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1736.125" y="553.144">state</text><line style="stroke:#181818;stroke-width:1.0;" x1="869.5" x2="676.5" y1="425.4961" y2="425.4961"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.5" x2="676.5" y1="425.4961" y2="467.5078"/><polygon fill="#181818" points="672.5,457.5078,676.5,467.5078,680.5,457.5078,676.5,461.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1115.5" x2="1318.375" y1="425.4961" y2="425.4961"/><line style="stroke:#181818;stroke-width:1.0;" x1="1318.375" x2="1318.375" y1="425.4961" y2="467.5078"/><polygon fill="#181818" points="1314.375,457.5078,1318.375,467.5078,1322.375,457.5078,1318.375,461.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="436.9375" x2="133.5" y1="351.4727" y2="351.4727"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.5" x2="133.5" y1="351.4727" y2="393.4844"/><polygon fill="#181818" points="129.5,383.4844,133.5,393.4844,137.5,383.4844,133.5,387.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="658.9375" x2="992.5" y1="351.4727" y2="351.4727"/><line style="stroke:#181818;stroke-width:1.0;" x1="992.5" x2="992.5" y1="351.4727" y2="393.4844"/><polygon fill="#181818" points="988.5,383.4844,992.5,393.4844,996.5,383.4844,992.5,387.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="299.4609" y2="319.4609"/><polygon fill="#181818" points="543.9375,309.4609,547.9375,319.4609,551.9375,309.4609,547.9375,313.4609" style="stroke:#181818;stroke-width:1.0;"/><rect fill="#E5E8E8" height="32.5938" id="_caption" style="stroke:#00000000;stroke-width:1.0;" width="726" x="530.0625" y="976"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="726" x="530.0625" y="1001.9902">Fig: rustBoot transitions in typical boot invocation</text><!--MD5=[c3dd0ea49191d07f19c63ff585bfa801]
@startuml
skinparam backgroundColor   #e5e8e8  
<style>
caption {
  FontSize 28
}
</style>
caption Fig: rustBoot transitions in typical boot invocation
start
note right: Power ON / Board Reset

  :rustBoot Start; 

  :**Read Partitions** 
  
  * Boot 
  * Update ;

#orange:if (
                  **Check** 

* Is Boot in **Testing** state (0x10)?\n) then (<color:green>**True**)


  :               **Trigger Update**
  
  * Swapped firmware was not able to 
      set the **success** state (0x00)
  * set Image state to **Updating** state;
  #plum:Roll back to the Boot firmware;
  kill
else (<color:red>**False**)
  #orange:if (
                    **Check** 
  
* Is Update in **Updating** state (0x70)?\n) then (<color:green>**True**);
    :Begin rustBoot Update
    read 3 partitions
    
    * Boot
    * Update
    * Swap;
    #orange:if (
  Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of\n Image in Update partition \n) then (<color:green>**True**)
    
      #orange:if (\n                **Prevent rollback** \n                     **Check** 
      
* Is Update image version greater than \n Boot image version? \n) then (<color:green>**True**)
        :* Swap the Update partition with Boot partition
        * Set the update image flag to **Testing** state;
        :* Jump to the updated firmware 
        * validate the firmware functionality
        * Update image state flags erased
        * set the boot image flag to **success** state 
            (0x00);
        stop
      else(<color:red>**False**) 
        #tomato:Panic!;
        kill
      endif
    else(<color:red>**False**)
      #tomato:Panic!;
      kill
    endif
  else (<color:red>**False**)
  <style>
diamond  {
  BackgroundColor orange
}
</style>
    switch(\n                 **Check**\n \n * Is Boot in **New** state (0xFF)?\n * Is Boot in **Success** state (0x00)?\n)
    case (\n* Boot in **New** state)
      #orange:if (\n Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of \n Boot Image in Boot partition\n) then (<color:green>**True**)
        :Jump to the Boot firmware in boot partition;
          :                       **Trigger update** 
          
        * Checks for the update, if available   
        * Sets the Update image state to **Updating** state 
                                    (0x70);
        stop
         note right: Board Reset
        
      else (<color:red>**False**)
        #tomato:Panic!;
        kill
      endif
    case (* Boot in **Success** state)
      #orange:if (\n Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of \n Update Image in Boot partition\n) then (<color:green>**True**)
        :* Jump to firmware in Boot partition
* This may be recently swapped/updated firmware;
        stop
      else (<color:red>**False**)
        #tomato:Panic!;
        kill


legend top right
    | **Value** | **States** |
    | 0xFF  | New State |
    | 0x70  | Updating State |
    | 0x10  | Testing State |
    | 0x00  | Success State |
endlegend
@enduml

PlantUML version 1.2022.7beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>