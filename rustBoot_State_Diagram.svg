<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1042px" preserveAspectRatio="none" style="width:1789px;height:1042px;background:#FFFFFF;" version="1.1" viewBox="0 0 1789 1042" width="1789px" zoomAndPan="magnify"><defs/><g><rect height="44.9219" id="_title" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="406" x="690.0625" y="15"/><text fill="#000000" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="396" x="695.0625" y="47.8467">rustBoot state diagram</text><rect fill="#DDDDDD" height="97.4844" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="182" x="1586.125" y="73.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1592.125" y="94.917"> </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="45" x="1596.125" y="94.917">Value</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1641.125" y="94.917"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1645.125" y="94.917"> </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54" x="1649.125" y="94.917">States</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1703.125" y="94.917"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="1596.125" y="111.2139">0xFF</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1649.125" y="111.2139">New State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="127.5107">0x70</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1649.125" y="127.5107">Updating State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="143.8076">0x10</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1649.125" y="143.8076">Testing State</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1596.125" y="160.1045">0x00</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1649.125" y="160.1045">Success State</text><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="81.9219" y2="81.9219"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="98.2188" y2="98.2188"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="114.5156" y2="114.5156"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="130.8125" y2="130.8125"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="147.1094" y2="147.1094"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1762.125" y1="163.4063" y2="163.4063"/><line style="stroke:#000000;stroke-width:1.0;" x1="1592.125" x2="1592.125" y1="81.9219" y2="163.4063"/><line style="stroke:#000000;stroke-width:1.0;" x1="1645.125" x2="1645.125" y1="81.9219" y2="163.4063"/><line style="stroke:#000000;stroke-width:1.0;" x1="1762.125" x2="1762.125" y1="81.9219" y2="163.4063"/><path d="M577.9375,180.4063 L577.9375,188.9727 L557.9375,192.9727 L577.9375,196.9727 L577.9375,205.5391 A0,0 0 0 0 577.9375,205.5391 L751.9375,205.5391 A0,0 0 0 0 751.9375,205.5391 L751.9375,190.4063 L741.9375,180.4063 L577.9375,180.4063 A0,0 0 0 0 577.9375,180.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M741.9375,180.4063 L741.9375,190.4063 L751.9375,190.4063 L741.9375,180.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="583.9375" y="197.4731">Power ON / Board Reset</text><ellipse cx="547.9375" cy="192.9727" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="496.4375" y="225.5391"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="506.4375" y="246.6777">rustBoot Start</text><rect fill="#F1F1F1" height="75.875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="480.4375" y="279.5078"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="115" x="490.4375" y="300.6465">Open Partitions</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="490.4375" y="314.6152"> </text><ellipse cx="495.9375" cy="323.9141" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="502.4375" y="328.584">Boot</text><ellipse cx="495.9375" cy="337.8828" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="502.4375" y="342.5527">Update</text><polygon fill="#FFA500" points="448.9375,375.3828,646.9375,375.3828,658.9375,407.3945,646.9375,439.4063,448.9375,439.4063,436.9375,407.3945,448.9375,375.3828" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="385.5933"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="448.9375" y="398.3979">                  </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="520.9375" y="398.3979">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="559.9375" y="398.3979"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="411.2026"> </text><ellipse cx="454.4375" cy="419.1016" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="459.9375" y="424.0073">Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="51" x="516.9375" y="424.0073">Testing</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="571.9375" y="424.0073">state (0x10)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="448.9375" y="436.812"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="405.9375" y="404.8003">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="658.9375" y="404.8003">False</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="11" y="449.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="21" y="470.5449">               </text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="111" x="81" y="470.5449">Trigger Update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="21" y="484.5137"> </text><ellipse cx="26.5" cy="493.8125" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="211" x="33" y="498.4824">Swapped firmware was not able to</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="42" x="37" y="512.4512">set the</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58" x="83" y="512.4512">success</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="145" y="512.4512">state (0x00)</text><ellipse cx="26.5" cy="521.75" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="33" y="526.4199">set Image state to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65" x="147" y="526.4199">Updating</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="216" y="526.4199">state</text><rect fill="#DDA0DD" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="202" x="32.5" y="574.25"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182" x="42.5" y="595.3887">Roll back to the Boot firmware</text><polygon fill="#FFA500" points="881.5,449.4063,1103.5,449.4063,1115.5,481.418,1103.5,513.4297,881.5,513.4297,869.5,481.418,881.5,449.4063" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="881.5" y="459.6167"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="881.5" y="472.4214">                    </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="961.5" y="472.4214">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1000.5" y="472.4214"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8" x="881.5" y="485.2261">  </text><ellipse cx="887" cy="493.125" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="892.5" y="498.0308">Is Update in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60" x="964.5" y="498.0308">Updating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="1028.5" y="498.0308">state (0x70)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="881.5" y="510.8354"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="838.5" y="478.8237">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1115.5" y="478.8237">False</text><rect fill="#F1F1F1" height="103.8125" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="598" y="523.4297"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137" x="608" y="544.5684">Begin rustBoot Update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105" x="608" y="558.5371">Open 3 partitions</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="4" x="608" y="572.5059"> </text><ellipse cx="613.5" cy="581.8047" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="620" y="586.4746">Boot</text><ellipse cx="613.5" cy="595.7734" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="620" y="600.4434">Update</text><ellipse cx="613.5" cy="609.7422" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="620" y="614.4121">Swap</text><polygon fill="#FFA500" points="574,660.8125,779,660.8125,791,686.4219,779,712.0313,574,712.0313,562,686.4219,574,660.8125" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="574" y="671.0229"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="582" y="683.8276">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="620" y="683.8276">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="671" y="683.8276">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="696" y="683.8276">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="768" y="683.8276">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="578" y="696.6323">Image in Update partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="574" y="709.437"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="531" y="683.8276">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="791" y="683.8276">False</text><polygon fill="#FFA500" points="439,722.0313,665,722.0313,677,766.8477,665,811.6641,439,811.6641,427,766.8477,439,722.0313" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="439" y="732.2417"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="439" y="745.0464">                </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="503" y="745.0464">Prevent rollback</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="613" y="745.0464"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="439" y="757.8511">                     </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="523" y="757.8511">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="562" y="757.8511"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="439" y="770.6558">      </text><ellipse cx="444.5" cy="778.5547" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="450" y="783.4604">Is Update image version greater than</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="443" y="796.2651">Boot image version?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="439" y="809.0698"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="396" y="764.2534">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="677" y="764.2534">False</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="302" x="266" y="821.6641"/><ellipse cx="281.5" cy="838.1328" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="270" x="288" y="842.8027">Swap the Update partition with Boot partition</text><ellipse cx="281.5" cy="852.1016" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="172" x="288" y="856.7715">Set the update image flag to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="56" x="464" y="856.7715">Testing</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="524" y="856.7715">state</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="285" x="274.5" y="900.0781"/><ellipse cx="290" cy="916.5469" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="296.5" y="921.2168">Jump to the updated firmware</text><ellipse cx="290" cy="930.5156" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="296.5" y="935.1855">validate the firmware functionality</text><ellipse cx="290" cy="944.4844" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199" x="296.5" y="949.1543">Update image state flags erased</text><ellipse cx="290" cy="958.4531" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="296.5" y="963.123">set the boot image flag to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="58" x="457.5" y="963.123">success</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="519.5" y="963.123">state</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="300.5" y="977.0918">(0x00)</text><ellipse cx="417" cy="1020.9219" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="417" cy="1020.9219" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="659.5" y="821.6641"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="669.5" y="842.8027">Panic!</text><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="773.5" y="722.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="783.5" y="743.1699">Panic!</text><polygon fill="#FFA500" points="1217.375,523.4297,1419.375,523.4297,1431.375,561.8438,1419.375,600.2578,1217.375,600.2578,1205.375,561.8438,1217.375,523.4297" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="533.6401"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="1217.375" y="546.4448">                 </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1285.375" y="546.4448">Check</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="559.2495"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="1221.375" y="572.0542">* Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="27" x="1288.375" y="572.0542">New</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="1319.375" y="572.0542">state (0xFF)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="1221.375" y="584.8589">* Is Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52" x="1288.375" y="584.8589">Success</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="1344.375" y="584.8589">state (0x00)?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1217.375" y="597.6636"> </text><polygon fill="#FFA500" points="1042.625,660.0469,1247.625,660.0469,1259.625,685.6563,1247.625,711.2656,1042.625,711.2656,1030.625,685.6563,1042.625,660.0469" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1042.625" y="670.2573"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="1046.625" y="683.062">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="1084.625" y="683.062">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="1135.625" y="683.062">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="1160.625" y="683.062">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1232.625" y="683.062">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="1046.625" y="695.8667">Boot Image in Boot partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1042.625" y="708.6714"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="999.625" y="683.062">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1259.625" y="683.062">False</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="882.125" y="721.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="257" x="892.125" y="742.4043">Jump to the Boot firmware in boot partition</text><rect fill="#F1F1F1" height="89.8438" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="324" x="858.625" y="790.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="868.625" y="811.373">                       </text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="111" x="960.625" y="811.373">Trigger update</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="8" x="868.625" y="825.3418">  </text><ellipse cx="874.125" cy="834.6406" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206" x="880.625" y="839.3105">Checks for the update, if available</text><ellipse cx="874.125" cy="848.6094" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="189" x="880.625" y="853.2793">Sets the Update image state to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65" x="1073.625" y="853.2793">Updating</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="1142.625" y="853.2793">state</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="980.625" y="867.248">(0x70)</text><path d="M1051.625,910.5547 L1051.625,919.1211 L1031.625,923.1211 L1051.625,927.1211 L1051.625,935.6875 A0,0 0 0 0 1051.625,935.6875 L1150.625,935.6875 A0,0 0 0 0 1150.625,935.6875 L1150.625,920.5547 L1140.625,910.5547 L1051.625,910.5547 A0,0 0 0 0 1051.625,910.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1140.625,910.5547 L1140.625,920.5547 L1150.625,920.5547 L1140.625,910.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1057.625" y="927.6216">Board Reset</text><ellipse cx="1020.625" cy="923.1211" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="1020.625" cy="923.1211" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1242.125" y="721.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="1252.125" y="742.4043">Panic!</text><polygon fill="#FFA500" points="1523.625,647.2422,1728.625,647.2422,1740.625,672.8516,1728.625,698.4609,1523.625,698.4609,1511.625,672.8516,1523.625,647.2422" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1523.625" y="657.4526"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="1527.625" y="670.2573">Verify</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" target="_top" title="Verify Integrity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg" xlink:show="new" xlink:title="Verify Integrity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="47" x="1565.625" y="670.2573">Integrity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="1616.625" y="670.2573">and</text><a href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" target="_top" title="Verify Authenticity" xlink:actuate="onRequest" xlink:href="https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg" xlink:show="new" xlink:title="Verify Authenticity" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="68" x="1641.625" y="670.2573">Authenticity</text></a><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1713.625" y="670.2573">of</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="1527.625" y="683.062">Update Image in Boot partition</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1523.625" y="695.8667"> </text><text fill="#008000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="1480.625" y="670.2573">True</text><text fill="#FF0000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34" x="1740.625" y="670.2573">False</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="329" x="1337.125" y="708.4609"/><ellipse cx="1352.625" cy="724.9297" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="1359.125" y="729.5996">Jump to firmware in Boot partition</text><ellipse cx="1352.625" cy="738.8984" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="297" x="1359.125" y="743.5684">This may be recently swapped/updated firmware</text><ellipse cx="1501.625" cy="802.3984" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;fill:none;"/><ellipse cx="1501.625" cy="802.3984" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><rect fill="#FF6347" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="1723.125" y="708.4609"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="1733.125" y="729.5996">Panic!</text><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="202.9727" y2="225.5391"/><polygon fill="#181818" points="543.9375,215.5391,547.9375,225.5391,551.9375,215.5391,547.9375,219.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="259.5078" y2="279.5078"/><polygon fill="#181818" points="543.9375,269.5078,547.9375,279.5078,551.9375,269.5078,547.9375,273.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.5" x2="133.5" y1="539.25" y2="574.25"/><polygon fill="#181818" points="129.5,564.25,133.5,574.25,137.5,564.25,133.5,568.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="869.6016" y2="900.0781"/><polygon fill="#181818" points="413,890.0781,417,900.0781,421,890.0781,417,894.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="989.9219" y2="1009.9219"/><polygon fill="#181818" points="413,999.9219,417,1009.9219,421,999.9219,417,1003.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="427" x2="417" y1="766.8477" y2="766.8477"/><line style="stroke:#181818;stroke-width:1.0;" x1="417" x2="417" y1="766.8477" y2="821.6641"/><polygon fill="#181818" points="413,811.6641,417,821.6641,421,811.6641,417,815.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="677" x2="687" y1="766.8477" y2="766.8477"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="766.8477" y2="821.6641"/><polygon fill="#181818" points="683,811.6641,687,821.6641,691,811.6641,687,815.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="562" x2="552" y1="686.4219" y2="686.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="552" x2="552" y1="686.4219" y2="722.0313"/><polygon fill="#181818" points="548,712.0313,552,722.0313,556,712.0313,552,716.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="791" x2="801" y1="686.4219" y2="686.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="801" x2="801" y1="686.4219" y2="722.0313"/><polygon fill="#181818" points="797,712.0313,801,722.0313,805,712.0313,801,716.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.5" x2="676.5" y1="627.2422" y2="660.8125"/><polygon fill="#181818" points="672.5,650.8125,676.5,660.8125,680.5,650.8125,676.5,654.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="755.2344" y2="790.2344"/><polygon fill="#181818" points="1016.625,780.2344,1020.625,790.2344,1024.625,780.2344,1020.625,784.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="880.0781" y2="912.1211"/><polygon fill="#181818" points="1016.625,902.1211,1020.625,912.1211,1024.625,902.1211,1020.625,906.1211" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1030.625" x2="1020.625" y1="685.6563" y2="685.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020.625" x2="1020.625" y1="685.6563" y2="721.2656"/><polygon fill="#181818" points="1016.625,711.2656,1020.625,721.2656,1024.625,711.2656,1020.625,715.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1259.625" x2="1269.625" y1="685.6563" y2="685.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1269.625" x2="1269.625" y1="685.6563" y2="721.2656"/><polygon fill="#181818" points="1265.625,711.2656,1269.625,721.2656,1273.625,711.2656,1269.625,715.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1501.625" x2="1501.625" y1="756.3984" y2="791.3984"/><polygon fill="#181818" points="1497.625,781.3984,1501.625,791.3984,1505.625,781.3984,1501.625,785.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1511.625" x2="1501.625" y1="672.8516" y2="672.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1501.625" x2="1501.625" y1="672.8516" y2="708.4609"/><polygon fill="#181818" points="1497.625,698.4609,1501.625,708.4609,1505.625,698.4609,1501.625,702.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1740.625" x2="1750.625" y1="672.8516" y2="672.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1750.625" x2="1750.625" y1="672.8516" y2="708.4609"/><polygon fill="#181818" points="1746.625,698.4609,1750.625,708.4609,1754.625,698.4609,1750.625,702.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1205.375" x2="1145.125" y1="561.8438" y2="561.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1145.125" x2="1145.125" y1="561.8438" y2="660.0469"/><polygon fill="#181818" points="1141.125,650.0469,1145.125,660.0469,1149.125,650.0469,1145.125,654.0469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="4" x="1145.125" y="609.0659"> </text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1145.125" y="621.8706">* Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="27" x="1199.125" y="621.8706">New</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1230.125" y="621.8706">state</text><line style="stroke:#181818;stroke-width:1.0;" x1="1431.375" x2="1626.125" y1="561.8438" y2="561.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1626.125" x2="1626.125" y1="561.8438" y2="647.2422"/><polygon fill="#181818" points="1622.125,637.2422,1626.125,647.2422,1630.125,637.2422,1626.125,641.2422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1626.125" y="609.0659">* Boot in</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52" x="1680.125" y="609.0659">Success</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="1736.125" y="609.0659">state</text><line style="stroke:#181818;stroke-width:1.0;" x1="869.5" x2="676.5" y1="481.418" y2="481.418"/><line style="stroke:#181818;stroke-width:1.0;" x1="676.5" x2="676.5" y1="481.418" y2="523.4297"/><polygon fill="#181818" points="672.5,513.4297,676.5,523.4297,680.5,513.4297,676.5,517.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1115.5" x2="1318.375" y1="481.418" y2="481.418"/><line style="stroke:#181818;stroke-width:1.0;" x1="1318.375" x2="1318.375" y1="481.418" y2="523.4297"/><polygon fill="#181818" points="1314.375,513.4297,1318.375,523.4297,1322.375,513.4297,1318.375,517.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="436.9375" x2="133.5" y1="407.3945" y2="407.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.5" x2="133.5" y1="407.3945" y2="449.4063"/><polygon fill="#181818" points="129.5,439.4063,133.5,449.4063,137.5,439.4063,133.5,443.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="658.9375" x2="992.5" y1="407.3945" y2="407.3945"/><line style="stroke:#181818;stroke-width:1.0;" x1="992.5" x2="992.5" y1="407.3945" y2="449.4063"/><polygon fill="#181818" points="988.5,439.4063,992.5,449.4063,996.5,439.4063,992.5,443.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="547.9375" x2="547.9375" y1="355.3828" y2="375.3828"/><polygon fill="#181818" points="543.9375,365.3828,547.9375,375.3828,551.9375,365.3828,547.9375,369.3828" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[0d60ac8f7fa26006b1873c5fa5368f68]
@startuml
skinparam titlefontsize 30
title rustBoot state diagram

start
note right: Power ON / Board Reset

  :rustBoot Start; 

  :**Open Partitions** 
  
  * Boot 
  * Update ;

#orange:if (
                  **Check** 

* Is Boot in **Testing** state (0x10)?\n) then (<color:green>**True**)


  :               **Trigger Update**
  
  * Swapped firmware was not able to 
      set the **success** state (0x00)
  * set Image state to **Updating** state;
  #plum:Roll back to the Boot firmware;
  kill
else (<color:red>**False**)
  #orange:if (
                    **Check** 
  
* Is Update in **Updating** state (0x70)?\n) then (<color:green>**True**);
    :Begin rustBoot Update
    Open 3 partitions
    
    * Boot
    * Update
    * Swap;
    #orange:if (
  Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of\n Image in Update partition \n) then (<color:green>**True**)
    
      #orange:if (\n                **Prevent rollback** \n                     **Check** 
      
* Is Update image version greater than \n Boot image version? \n) then (<color:green>**True**)
        :* Swap the Update partition with Boot partition
        * Set the update image flag to **Testing** state;
        :* Jump to the updated firmware 
        * validate the firmware functionality
        * Update image state flags erased
        * set the boot image flag to **success** state 
            (0x00);
        stop
      else(<color:red>**False**) 
        #tomato:Panic!;
        kill
      endif
    else(<color:red>**False**)
      #tomato:Panic!;
      kill
    endif
  else (<color:red>**False**)
  <style>
diamond  {
  BackgroundColor orange
}
</style>
    switch(\n                 **Check**\n \n * Is Boot in **New** state (0xFF)?\n * Is Boot in **Success** state (0x00)?\n)
    case (\n* Boot in **New** state)
      #orange:if (\n Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of \n Boot Image in Boot partition\n) then (<color:green>**True**)
        :Jump to the Boot firmware in boot partition;
          :                       **Trigger update** 
          
        * Checks for the update, if available   
        * Sets the Update image state to **Updating** state 
                                    (0x70);
        stop
         note right: Board Reset
        
      else (<color:red>**False**)
        #tomato:Panic!;
        kill
      endif
    case (* Boot in **Success** state)
      #orange:if (\n Verify [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Intigrity_diagram.svg{Verify Integrity} Integrity]] and [[https://raw.githubusercontent.com/UdayakumarHidakal/RustBoot-state-diagrams/main/verify_Authenticity_diagram.svg{Verify Authenticity} Authenticity]] of \n Update Image in Boot partition\n) then (<color:green>**True**)
        :* Jump to firmware in Boot partition
* This may be recently swapped/updated firmware;
        stop
      else (<color:red>**False**)
        #tomato:Panic!;
        kill


legend top right
    | **Value** | **States** |
    | 0xFF  | New State |
    | 0x70  | Updating State |
    | 0x10  | Testing State |
    | 0x00  | Success State |
endlegend
@enduml

PlantUML version 1.2022.7beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>